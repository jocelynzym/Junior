## notes

本文档记录一些实验的必要知识

#### 1.Cache的寻址方式

Cache的每一行有tag和index域用来寻址。



#### 2.全相联映射，直接映射和多路组相联映射cache

按寻址方式分，cache可以分为全相联映射，直接映射和多路组相联映射cache。

- 全相联映射指的是任意一行地址中的数据可以放到任意一个cache line中，cpu都可以根据tag和index准确地寻址到。全相联cache的问题不仅仅是需要硬件连线比较多，而且它的效率比较低，在极端情况下可能找一个数据需要寻址整个cache。
- 为了简化cache的设计并提高效率，提出了直接映射的概念，直接映射cache中，对于任一地址，它在cache中有且只有一个line会与之匹配，并且这个line的index是固定的，大大简化了cpu对cache的操作和寻址流程。 
- 多路组相联cache的出现就是为了应对这种状况，多路组相联的概念就是将多个并行的直接映射cache集成到一起，这样对于一个index就会有多个行与之相对应，比较每行的tag是否与想要的地址相符合，这样就会大大增加命中的几率，避免了一小段程序中频繁cache失效的问题。



3.



#### 3.什么是直接映射策略的cache [写回 & 带写分配]

2.1 直接映射



2.2 写回(write back)



2.3 写分配



2.4 Cache的操作单位

Cache的最小操作单位是行（line），也就是说每次cache的操作必须是以32个字节为单位，不能只选择其中某个字节。而且这32个字节数据的首地址必须是32字节对齐的。每一行的大小并不是一定的，在其发展历史中曾经有过很多种选择，目前比较通用的一个选择是每行32个字节。 







#### 3.N路组相连的cache

写回 & 带写





